webpackJsonp([0],{NHnr:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=i("7+uW");const n=0;var o;!function(t){t.Above="Above",t.Below="Below",t.Left="Left",t.Right="Right"}(o||(o={}));var r=class{constructor(t){if(this.dy=t.length,this.dx=t[0].length,this.dy<2||this.dx<2)throw new Error("cannot initialize with the array which has less than 2 col/rows");this.blocks=new Array(this.dx*this.dy);let s=0;for(let i=0;i<this.dy;i++)for(let e=0;e<this.dx;e++)this.blocks[s]=t[i][e],t[i][e]===n&&(this.blankpos=s),s++}row(t){return Math.ceil(t/this.dx)}col(t){return t%this.dx===n?this.dx:t%this.dx}dimensions(){return{x:this.dx,y:this.dy}}checkInRange(...t){for(let s of t)if(null==this.blocks[s])throw new Error(`Index ${s} not in range [0 .. ${this.blocks.length-1}]`)}direction(t,s){if(this.checkInRange(t,s),this.row(s+1)===this.row(t+1)){if(s%this.dx==t%this.dx-1)return o.Left;if(s%this.dx==t%this.dx+1)return o.Right}return s===t+this.dx?o.Below:s===t-this.dx?o.Above:null}hamming(){let t=0;for(let s=0,i=1,e=this.blocks.length;s<e;s++,i++)this.blocks[s]!==n&&this.blocks[s]!==i&&t++;return t}manhattan(){let t=0;for(let s=0,i=this.blocks.length;s<i;s++)this.blocks[s]!==n&&(t+=Math.abs(this.row(this.blocks[s])-this.row(s+1))+Math.abs(this.col(this.blocks[s])-this.col(s+1)));return t}isGoal(){for(let t=0,s=this.blocks.length;t<s;t++)if(this.blocks[t]!==n&&this.blocks[t]!==t+1)return!1;return!0}swap(t,s,i){if(this.checkInRange(s,i),this.blocks[s]!==n&&this.blocks[i]!==n)throw new Error("cannot swap non-space block");return[t[s],t[i]]=[t[i],t[s]],this.blankpos=t[s]===n?s:i,this}swapAbove(t){return this.swap(this.blocks,t,t-this.dx)}swapBelow(t){return this.swap(this.blocks,t,t+this.dx)}swapLeft(t){return this.swap(this.blocks,t,t-1)}swapRight(t){return this.swap(this.blocks,t,t+1)}slide(t){switch(this.checkInRange(t),this.direction(t,this.blankpos)){case o.Above:return this.swapAbove(t);case o.Below:return this.swapBelow(t);case o.Left:return this.swapLeft(t);case o.Right:return this.swapRight(t);default:return this}}toArray2D(){let t=0;const s=[];for(let i=0;i<this.dy;i++){const i=[];for(let s=0;s<this.dx;s++,t++)i.push(this.blocks[t]);s.push(i)}return s}},a=function(t,s){for(var i=t*s,e=[],n=0;n<i;n++)e.push(n);!function(t){for(var s=t.length-1;s>0;s--){var i=Math.floor(Math.random()*(s+1)),e=t[s];t[s]=t[i],t[i]=e}}(e);for(var o=[],r=0;r<s;r++){for(var a=[],h=0;h<t;h++)a.push(e[t*r+h]);o.push(a)}return o},h={name:"PuzzleBoard",data:function(){return{blocks:this.board.blocks,isGoal:!1,manhattan:null,hamming:null,targetSrc:null,cellWidth:200,cellHeight:200}},props:{board:{type:r,default:function(){var t=a(3,3);return new r(t)}},src:{type:String}},mounted:function(){},watch:{board:function(){console.log(),this.blocks=this.board.blocks},blocks:function(){this.isGoal=this.board.isGoal(),this.manhattan=this.board.manhattan(),this.hamming=this.board.hamming(),this.$emit("change",{blocks:this.blocks,isGoal:this.isGoal,distance:this.manhattan})},isGoal:function(){this.isGoal&&this.$emit("finish")}},methods:{getImageStyle:function(t,s){var i=this.cellWidth*this.board.dx,e=this.cellHeight*this.board.dy;console.log(i,this.cellWidth,this.board.dx);var n=this.board.col(t)-1,o=this.board.row(t)-1;return{position:"absolute",margin:0,padding:0,width:i+"px",height:e+"px",transform:"translate(-"+this.cellHeight*n+"px, -"+this.cellWidth*o+"px"}},getBlockStyle:function(t,s){var i=0===t,e=(this.board.row(s+1)-1)*this.cellHeight;return{userSelect:"none",display:i?"none":"inherit",textAlign:"left",fontSize:"2em",boxSizing:"border-box",border:i?"":"1px solid black",backgroundColor:i?"":"#FFF",position:"absolute",left:(this.board.col(s+1)-1)*this.cellWidth+"px",top:e+"px",height:this.cellHeight+"px",width:this.cellWidth+"px",overflow:"hidden"}},onClick:function(t){this.board.slide(t),e.a.set(this,"blocks",this.board.blocks.concat())}}},l={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("div",{staticClass:"puzzle-board"},[i("transition-group",t._l(t.blocks,function(s,e){return i("div",{key:s,staticClass:"block",style:t.getBlockStyle(s,e),on:{click:function(s){t.onClick(e)},mousedown:function(t){t.preventDefault()},mouseup:function(t){t.preventDefault()}}},[t.src?i("img",{style:t.getImageStyle(s,e),attrs:{src:t.src}}):t._e(),t._v(" "),i("div",{style:{position:"absolute",fontColor:"#ddd"}},[t._v(t._s(0===s?"":s))])])}))],1)])},staticRenderFns:[]};var c=i("VU/8")(h,l,!1,function(t){i("OS6R")},"data-v-295cd6ae",null).exports,d=i("xkHn"),u=i.n(d),b={name:"App",components:{PuzzleBoard:c},data:function(){return{imgSrc:u.a,distance:null,isGoal:!1}},methods:{onPuzzleBoardFinish:function(){this.isGoal=!0},onPuzzleBoardChange:function(t){this.distance=t.distance}}},f={render:function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"header"},[t._v("\n    Vue-8-Puzzle\n    "),i("div",{staticClass:"status"},[t._v("\n      (Distance: "+t._s(t.distance)+")\n      "),t.isGoal?i("div",[t._v("\n        finish!!\n      ")]):t._e()])]),t._v(" "),i("div",{staticClass:"container"},[i("puzzle-board",{attrs:{src:t.imgSrc},on:{change:t.onPuzzleBoardChange,finish:t.onPuzzleBoardFinish}})],1)])},staticRenderFns:[]};var p=i("VU/8")(b,f,!1,function(t){i("fAze")},null,null).exports;e.a.config.productionTip=!1,new e.a({el:"#app",components:{App:p},template:"<App/>"})},OS6R:function(t,s){},fAze:function(t,s){},xkHn:function(t,s,i){t.exports=i.p+"static/img/robot.ca73761.jpg"}},["NHnr"]);
//# sourceMappingURL=app.b3070afd5a09bc05819a.js.map